<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>لوحة تحكم - ثانوية التحدي الأهلية</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<style>
  body {
    margin:0;
    font-family:'Cairo', sans-serif;
    direction: rtl;
    background: linear-gradient(to bottom, #e0f0ff, #f9f9ff);
    overflow-x:hidden;
  }

  /* صفحة تسجيل الدخول */
  #loginPage {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height:100vh;
  }
  #loginPage h1 {
    color:#007bff;
    margin-bottom:20px;
  }
  .login-input {
    margin:8px 0;
    padding:10px 12px;
    width:250px;
    border-radius:8px;
    border:1px solid #ccc;
    font-size:14px;
  }
  .login-btn {
    margin-top:12px;
    padding:10px 20px;
    width:270px;
    background:linear-gradient(45deg,#007bff,#6f42c1);
    color:#fff;
    border:none;
    border-radius:10px;
    cursor:pointer;
    font-size:16px;
  }
  .login-btn:hover {
    transform: scale(1.05);
  }
  .login-footer {
    margin-top:20px;
    text-align:center;
  }
  .login-footer a {
    display:inline-block;
    margin:5px 10px;
    color:#007bff;
    text-decoration:none;
    font-weight:bold;
  }

  /* لوحة التحكم */
  #dashboard {
    display:none;
    min-height:100vh;
    padding-bottom:70px;
  }
  .page {
    display:none;
    padding:20px;
  }
  .page.active {
    display:block;
  }

  /* البار السفلي */
  #bottomBar {
    position:fixed;
    bottom:0;
    left:0;
    right:0;
    height:60px;
    background:linear-gradient(45deg,#007bff,#6f42c1);
    display:flex;
    justify-content:space-around;
    align-items:center;
    border-top-left-radius:15px;
    border-top-right-radius:15px;
    box-shadow:0 -3px 10px rgba(0,0,0,0.2);
  }
  #bottomBar button {
    background:none;
    border:none;
    color:#fff;
    font-size:14px;
    cursor:pointer;
    transition:all 0.3s ease;
  }
  #bottomBar button.activeTab {
    transform:scale(1.3);
    font-weight:bold;
    text-shadow:0 0 8px #fff;
  }

  /* الحوكمة */
  #governance {
    text-align:center;
    font-size:12px;
    color:#555;
    margin-top:20px;
  }
</style>
</head>
<body>

<!-- صفحة تسجيل الدخول -->
<div id="loginPage">
  <h1>ثانوية التحدي الأهلية</h1>
  <input id="parentNumber" class="login-input" placeholder="رقم ولي الأمر">
  <input id="studentCode" class="login-input" placeholder="كود الطالب">
  <button class="login-btn" onclick="login()">تسجيل الدخول</button>

  <div class="login-footer">
    <a href="forgot.html">نسيت الكود؟</a> |
    <a href="https://wa.me/96407851521585?text=مرحبا.%20🌟%20في%20حاجة%20لمساعدة%20لحل%20إشكال%20في%20المنصة.%20💬">الدعم السريع</a>
  </div>
  <div id="governance">قسم الحوكمة: جميع الحقوق محفوظة © ثانوية التحدي الأهلية</div>
</div>

<!-- لوحة التحكم بعد تسجيل الدخول -->
<div id="dashboard">
  <div id="accountPage" class="page active">
    <h2>الحساب</h2>
    <p>هنا بيانات الحساب ستظهر بعد ربطها بالملف</p>
    <button onclick="logout()">تسجيل الخروج</button>
  </div>

  <div id="chatPage" class="page">
    <h2>الدردشة</h2>
    <p>الدردشة معطلة مؤقتًا لأغراض الصيانة.</p>
  </div>

  <div id="notificationsPage" class="page">
    <h2>التبليغات</h2>
    <p>يمكن فقط للطلاب في صف الإدارة إضافة تبليغ.</p>
  </div>

  <div id="gradesPage" class="page">
    <h2>الدرجات</h2>
    <p>ستظهر الدرجات هنا بعد ربطها بالملف.</p>
  </div>

  <!-- البار السفلي -->
  <div id="bottomBar">
    <button class="activeTab" onclick="switchPage('accountPage', this)">الحساب</button>
    <button onclick="switchPage('chatPage', this)">الدردشة</button>
    <button onclick="switchPage('notificationsPage', this)">التبليغات</button>
    <button onclick="switchPage('gradesPage', this)">الدرجات</button>
  </div>
</div>

<script>
function login(){
  const parent = document.getElementById("parentNumber").value.trim();
  const code = document.getElementById("studentCode").value.trim();
  if(!parent || !code){
    alert("الرجاء إدخال رقم ولي الأمر وكود الطالب");
    return;
  }
  sessionStorage.setItem("parentNumber", parent);
  sessionStorage.setItem("studentCode", code);

  // GSAP أنيميشن الانتقال
  gsap.to("#loginPage", {duration:0.5, y:-50, opacity:0, onComplete:()=>{
    document.getElementById("loginPage").style.display="none";
    document.getElementById("dashboard").style.display="block";
    gsap.from("#dashboard", {duration:0.5, opacity:0, y:50});
  }});
}

function logout(){
  sessionStorage.clear();
  gsap.to("#dashboard", {duration:0.5, y:50, opacity:0, onComplete:()=>{
    document.getElementById("dashboard").style.display="none";
    document.getElementById("loginPage").style.display="flex";
    gsap.from("#loginPage", {duration:0.5, opacity:0, y:-50});
  }});
}

function switchPage(pageId, btn){
  // GSAP أنيميشن للانتقال بين الصفحات
  document.querySelectorAll(".page").forEach(p=>{
    if(p.id!==pageId){
      gsap.to(p,{duration:0.3, opacity:0, x:50, onComplete:()=>p.classList.remove("active")});
    }
  });

  const page = document.getElementById(pageId);
  page.classList.add("active");
  gsap.fromTo(page, {opacity:0, x:-50}, {duration:0.5, opacity:1, x:0});

  // البار السفلي
  document.querySelectorAll("#bottomBar button").forEach(b=>b.classList.remove("activeTab"));
  btn.classList.add("activeTab");
}
</script>

</body>
</html>
